<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üíò Valentine</title>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      background: linear-gradient(180deg, #fff 0%, #ffe6ee 100%);
      height: 100vh;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    .container {
      width: 100%;
      max-width: 520px;
      height: 100vh;
      position: relative;
      padding: 20px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }

    h1 {
      font-size: 26px;
      color: #d4004f;
      margin-bottom: 14px;
      padding: 0 10px;
      text-shadow: 0 0 12px rgba(255, 0, 100, 0.15);
    }

    .valentine {
      font-size: 18px;
      font-weight: bold;
      color: #b0003e;
      margin-bottom: 22px;
      opacity: 0.92;
      text-shadow: 0 0 10px rgba(255, 0, 100, 0.18);
    }

    .cats {
      position: relative;
      width: 100%;
      height: 190px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      padding: 0 18px;
    }

    .cat {
      width: 140px;
      height: 140px;
      position: relative;
      transition: 0.8s ease-in-out;
      animation: bounce 2.5s infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }

    .cat .face {
      width: 125px;
      height: 115px;
      background: #fff;
      border: 4px solid #000;
      border-radius: 45%;
      position: absolute;
      top: 12px;
      left: 7px;
      box-shadow: 0 10px 18px rgba(0,0,0,0.12);
    }

    .cat .ear {
      width: 38px;
      height: 38px;
      background: #fff;
      border: 4px solid #000;
      position: absolute;
      top: 0;
      border-radius: 10px;
      transform: rotate(45deg);
    }

    .cat .ear.left { left: 10px; }
    .cat .ear.right { right: 10px; }

    .cat .eye {
      width: 11px;
      height: 11px;
      background: #000;
      border-radius: 50%;
      position: absolute;
      top: 58px;
    }

    .cat .eye.left { left: 38px; }
    .cat .eye.right { right: 38px; }

    .cat .mouth {
      width: 20px;
      height: 12px;
      border-bottom: 4px solid #000;
      border-radius: 0 0 20px 20px;
      position: absolute;
      top: 80px;
      left: 52px;
    }

    .cat .nose {
      width: 10px;
      height: 8px;
      background: #ff4d6d;
      border-radius: 50%;
      position: absolute;
      top: 72px;
      left: 58px;
      opacity: 0.9;
    }

    .cat .blush {
      width: 15px;
      height: 11px;
      background: pink;
      border-radius: 50%;
      position: absolute;
      top: 73px;
      opacity: 0.75;
    }

    .cat .blush.left { left: 18px; }
    .cat .blush.right { right: 18px; }

    .cat.right .face,
    .cat.right .ear {
      background: #ffe4c7;
    }

    .buttons {
      position: relative;
      width: 100%;
      height: 150px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
    }

    button {
      border: none;
      padding: 14px 22px;
      border-radius: 18px;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.25s;
      box-shadow: 0 8px 18px rgba(0,0,0,0.14);
      user-select: none;
    }

    #yesBtn {
      background: #ff2d55;
      color: white;
      transform: scale(1);
    }

    #yesBtn:active {
      transform: scale(0.95);
    }

    #noBtn {
      background: #111;
      color: white;
      position: relative;
    }

    .love-text {
      margin-top: 22px;
      font-size: 30px;
      font-weight: bold;
      color: #d4004f;
      opacity: 0;
      transform: translateY(15px);
      transition: 1s;
      text-shadow: 0 0 14px rgba(255,0,100,0.4);
    }

    .love-text.show {
      opacity: 1;
      transform: translateY(0);
    }

    .extra-text {
      margin-top: 10px;
      font-size: 18px;
      font-weight: bold;
      color: #b0003e;
      opacity: 0;
      transform: translateY(10px);
      transition: 1s;
    }

    .extra-text.show {
      opacity: 1;
      transform: translateY(0);
    }

    .hint {
      margin-top: 12px;
      font-size: 14px;
      color: #555;
      opacity: 0.8;
    }

    /* Hug effect */
    .hug .cat.left {
      transform: translateX(95px) scale(1.08);
      animation: none;
    }
    .hug .cat.right {
      transform: translateX(-95px) scale(1.08);
      animation: none;
    }

    /* Heart */
    .heart {
      position: absolute;
      width: 18px;
      height: 18px;
      background: #ff2d55;
      transform: rotate(45deg);
      border-radius: 4px;
      opacity: 0.9;
      animation: floatUp 3.8s linear forwards;
      z-index: 999;
    }

    .heart::before,
    .heart::after {
      content: "";
      position: absolute;
      width: 18px;
      height: 18px;
      background: #ff2d55;
      border-radius: 50%;
    }

    .heart::before { top: -9px; left: 0; }
    .heart::after { left: -9px; top: 0; }

    @keyframes floatUp {
      0% {
        transform: translateY(0) rotate(45deg) scale(1);
        opacity: 1;
      }
      100% {
        transform: translateY(-800px) rotate(45deg) scale(1.5);
        opacity: 0;
      }
    }

    /* Floating background hearts */
    .bg-heart {
      position: absolute;
      font-size: 18px;
      opacity: 0.18;
      animation: bgFloat 10s linear infinite;
      z-index: 0;
    }

    @keyframes bgFloat {
      0% { transform: translateY(100vh); }
      100% { transform: translateY(-120vh); }
    }

    /* Music button */
    #musicBtn {
      position: absolute;
      top: 18px;
      right: 18px;
      background: #ff2d55;
      color: white;
      padding: 10px 14px;
      border: none;
      border-radius: 14px;
      font-weight: bold;
      font-size: 14px;
      box-shadow: 0 6px 14px rgba(0,0,0,0.15);
      z-index: 1000;
    }

    /* Mobile */
    @media (max-width: 400px) {
      h1 { font-size: 22px; }
      .valentine { font-size: 16px; }
      .cat { width: 120px; height: 120px; }
      button { font-size: 18px; padding: 12px 18px; }
      .love-text { font-size: 26px; }
      .extra-text { font-size: 16px; }
    }
  </style>
</head>

<body>

  <div class="container" id="container">

    <button id="musicBtn">üîä –ú—É–∑–∏–∫–∞</button>

    <audio id="bgMusic" loop>
      <source src="music.mp3" type="audio/mpeg">
    </audio>

    <h1 id="question">–ë—É–¥–µ—à –º–æ—î—é –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ—é? üíò</h1>
    <div class="valentine" id="valentineText">–ó –î–Ω–µ–º –°–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞ üíå</div>

    <div class="cats" id="catsArea">
      <div class="cat left" id="catLeft">
        <div class="ear left"></div>
        <div class="ear right"></div>
        <div class="face">
          <div class="eye left"></div>
          <div class="eye right"></div>
          <div class="blush left"></div>
          <div class="blush right"></div>
          <div class="nose"></div>
          <div class="mouth"></div>
        </div>
      </div>

      <div class="cat right" id="catRight">
        <div class="ear left"></div>
        <div class="ear right"></div>
        <div class="face">
          <div class="eye left"></div>
          <div class="eye right"></div>
          <div class="blush left"></div>
          <div class="blush right"></div>
          <div class="nose"></div>
          <div class="mouth"></div>
        </div>
      </div>
    </div>

    <div class="buttons" id="buttonsArea">
      <button id="yesBtn">–¢–∞–∫ üíñ</button>
      <button id="noBtn">–ù—ñ üòÖ</button>
    </div>

    <div class="love-text" id="loveText">–Ø —Ç–µ–±–µ –ª—é–±–ª—é ‚ù§Ô∏è</div>
    <div class="extra-text" id="extraText">–¢–∏ –∑—Ä–æ–±–∏–ª–∞ –º–µ–Ω–µ —â–∞—Å–ª–∏–≤–∏–º üíò</div>

    <div class="hint" id="hintText">–ù–∞—Ç–∏—Å–Ω–∏ –∫–Ω–æ–ø–∫—É üòÑ</div>
  </div>

  <script>
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const container = document.getElementById("container");
    const loveText = document.getElementById("loveText");
    const extraText = document.getElementById("extraText");
    const question = document.getElementById("question");
    const hintText = document.getElementById("hintText");

    const musicBtn = document.getElementById("musicBtn");
    const bgMusic = document.getElementById("bgMusic");

    let yesScale = 1;
    let noCount = 0;
    let finished = false;
    let musicPlaying = false;

    function random(min, max) {
      return Math.random() * (max - min) + min;
    }

    function moveNoButton() {
      const area = document.getElementById("buttonsArea");
      const rect = area.getBoundingClientRect();

      const maxX = rect.width - noBtn.offsetWidth;
      const maxY = rect.height - noBtn.offsetHeight;

      const x = random(0, maxX);
      const y = random(0, maxY);

      noBtn.style.position = "absolute";
      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";
    }

    function spawnHeart() {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.style.left = random(20, window.innerWidth - 20) + "px";
      heart.style.top = (window.innerHeight - 30) + "px";
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), 3800);
    }

    function startHeartsRain() {
      let count = 0;
      const interval = setInterval(() => {
        spawnHeart();
        count++;
        if (count > 45) clearInterval(interval);
      }, 110);
    }

    function createBackgroundHearts() {
      for (let i = 0; i < 12; i++) {
        const h = document.createElement("div");
        h.className = "bg-heart";
        h.innerHTML = "üíó";
        h.style.left = random(0, 100) + "vw";
        h.style.animationDuration = random(7, 15) + "s";
        h.style.fontSize = random(14, 28) + "px";
        h.style.animationDelay = random(0, 6) + "s";
        document.body.appendChild(h);
      }
    }

    createBackgroundHearts();

    // Music control
    musicBtn.addEventListener("click", async () => {
      try {
        if (!musicPlaying) {
          await bgMusic.play();
          musicPlaying = true;
          musicBtn.innerText = "üîà Playing";
          musicBtn.style.opacity = "0.75";
        } else {
          bgMusic.pause();
          musicPlaying = false;
          musicBtn.innerText = "üîä –ú—É–∑–∏–∫–∞";
          musicBtn.style.opacity = "1";
        }
      } catch (err) {
        alert("–ú—É–∑–∏–∫—É –Ω–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç–∏ üòÖ");
      }
    });

    noBtn.addEventListener("click", () => {
      if (finished) return;

      noCount++;

      yesScale += 0.18;
      yesBtn.style.transform = `scale(${yesScale})`;

      moveNoButton();

      if (noCount === 1) question.innerText = "–¢–æ—á–Ω–æ? üòÖ";
      if (noCount === 3) question.innerText = "–ù—É –±—É–¥—å –ª–∞—Å–∫–∞... ü•∫";
      if (noCount === 5) question.innerText = "–Ø –±—É–¥—É –¥—É–∂–µ –º–∏–ª–∏–º üòÑ‚ù§Ô∏è";
      if (noCount === 7) question.innerText = "–ù—É –≤—Å–µ... –Ω–∞—Ç–∏—Å–Ω–∏ –¢–∞–∫ üòåüíò";

      if (yesScale >= 2.6) noBtn.style.opacity = 0.25;

      if (yesScale >= 3.2) {
        noBtn.style.display = "none";
        question.innerText = "–û–∫–µ–π... —Ç—ñ–ª—å–∫–∏ –¢–∞–∫ üòÑüíò";
      }
    });

    // Mobile: touch to escape
    noBtn.addEventListener("touchstart", (e) => {
      if (finished) return;
      e.preventDefault();
      moveNoButton();
    });

    yesBtn.addEventListener("click", () => {
      if (finished) return;
      finished = true;

      question.innerText = "–£—Ä–∞–∞–∞! üòçüíò";
      hintText.style.display = "none";

      container.classList.add("hug");

      startHeartsRain();

      setTimeout(() => {
        loveText.classList.add("show");
      }, 850);

      setTimeout(() => {
        extraText.classList.add("show");
      }, 1400);

      yesBtn.innerText = "‚ù§Ô∏è";
      yesBtn.style.transform = "scale(1.15)";
      yesBtn.style.opacity = "0.95";
      noBtn.style.display = "none";
    });

    // Try autoplay after first click (if allowed)
    document.body.addEventListener("click", async () => {
      if (!musicPlaying) {
        try {
          await bgMusic.play();
          musicPlaying = true;
          musicBtn.innerText = "üîà Playing";
          musicBtn.style.opacity = "0.75";
        } catch (err) {
          // no permission -> ignore
        }
      }
    }, { once: true });

  </script>
</body>
</html>
